# intercom
Connecting an analog intercom to voip

Идея такова.
Многие из нас проживают в многоквартирных домах. И, конечно, используют при этом самый обыкновенный
координатно-матричный домофон. Например таких марок как: Цифраль, метаком, Пиррс. 
Я уже продолжительное время работаю удалённо и всякий раз, когда слышу звонок домофона (или не слышу, когда в наушниках) я вынужден вставать и идти к входной двери, где чаще всего и установлена переговорная трубка.

Я задумался. "А как же сделать так, чтобы подключить древний домофон к, например, смартфону?". И чтобы работали все функции:

- Звонок
- Выключение звонка (режим DND)
- Оповещение о визите с возможностью записи разговора или автоответчика
- Режим разговора
- Удалённое открытие с использованием стандартных функций смартфона или с помощью приложения
- Переадресация или параллельный вызов, если никто не отвечает (Часто дети забывают ключи и не могут попасть в подъезд)

Готового решения, для подключения к координатно-матричному интекому я не смог найти. Однако:

1. Готовые решения для подключения к видео-домофону (с использованием специальных плат сопряжения). Для этого необходимо приобрести плату сопряжения и сам видеодомофон
2. Готовые решения для подключения к видео-IP домофону (с использованием специальных плат сопряжения). Для этого необходимо приобрести плату сопряжения и сам видеодомофон
3. Готовые решения для подключения к проводному или DECT телефону (с использованием специальных адаптеров-иммитаторов АТС). Для этого необходимо приобрести адаптер.

Что я делаю. Соединяю Рещение 3 (адаптер-иммитатор АТС)с решением 1 (плата сопряжения для видеодомофона). Полученный мутант я подключаю к VOIP шлюзу на порт FXS.
Далее обрабатываю звонки (вызов посетителя) через VOIP или АТС на любом популярной SIP-платформе. Команды открытия/отбоя - стандартные DTMF (готовый обработчик уже есть в решении 3).

Принять вызов можно несколькими способами

1. Обычный проводной телефон или DECT
2. SIP клиент (desktop, andriod, ios)
3. Переадресация на любой SIP или телефон.
4. Приложение на смартфоне, которое просто откроет дверь
